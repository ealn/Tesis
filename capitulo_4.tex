%IMD PNA http://na.support.keysight.com/pna/help/latest/Applications/Swept_IMD_Configure_External_Source_and_Combiner.htm
\chapter{Desarrollo}

%%-----------------------------------------------------------------------

\section{Desarrollo del proyecto}

\subsection{Datos}

La base de datos de archivos MIDI que se utilizo en este proyecto se llama ''Clean MIDI subset'' la cual se uso en la tesis doctoral \cite{Lear_Coli}. Esta base de datos contiene más de 17,000 canciones en formato MIDI, estas en su mayoría del género Pop y Rock, por lo que la red utilizada en este proyecto fue entrenada para asimilar este tipo de estilos.

Para el procesamiento de los archivos MIDI se utilizo una librería de software libre llamada Music21, la cual nos permite de una manera fácil trabajar con estos archivos, sin embargo se realizo una adaptacion para que funcionara correctamente con diferentes sonidos de guitarra y bajo eléctrico. Esta librería es compatible con Python3 por lo que nuestro programa esta hecho en este lenguaje de programación.

Los archivos MIDI de esta base de datos poseen varios Tracks, cada uno con un instrumento diferente, de los cuales en este proyecto solamente se tomaran en cuenta los Tracks de guitarra y bajo eléctrico, los demas Tracks serán ignorados.

Cada canción tiene una duración promedio de 3 minutos, por lo que la cantidad de notas que procesa la red es bastante considerable.

\subsection{Arquitectura de la aplicación}

Este proyecto posee varios modulos, cada uno funciona independientemente de los otros, sin embargo existen interconexiones entre ellos para el paso de información, esto nos permite tener una buena modulación del código y realizar cambios en un modulo sin afectar a los otros.

Estos modulos se pueden observar en la siguiente figura:

\begin{figure}[H]
	\centerline{\includegraphics[width=14cm]{arq_app.png}}
	\caption{Arquitectura de la aplicación}
	\label{fig:arq_app}
\end{figure}

Dentro de esta arquitectura tenemos modulos activos y modulos pasivos. Los modulos activos son aquellos que reciben y procesan información, mientras que los elementos pasivos solamente son para almacenar o consultar información. 

Los elementos activos que se observan son:

\begin{itemize}
	\item UI.
	\item Preprocesamiento.
	\item Red neuronal. 
	\item Entrenamiento.
	\item Generación.  
	\item Analizador.
\end{itemize}

Mientras que los elementos pasivos son:

\begin{itemize}
	\item Base de datos.
	\item Datos preprocesados.
	\item Canciones generadas.
\end{itemize}

A continuación se describirán cada modulo del sistema.

\subsubsection{UI}

Este modulo es una pequeña interfaz de usuario de consola basada en menus, la cual nos permite accesar a los otros modulos del sistema.

El menu principal contiene el acceso a los siguientes modulos:

\begin{enumerate}
	\item Preprocesamiento.
	\item Entrenamiento.
	\item Generación.  
	\item Analizador.
\end{enumerate}

Como se puede observar en la figura \ref{fig:arq_app} hay algunos modulos que para poderse ejecutar es necesario ejecutar otro modulo primero, con el fin de obtener la información necesaria para este modulo. El único modulo que no tiene condicionantes es el de Preprocesamiento, por lo tanto es el primer modulo que se debería de ejecutar en el programa.

\subsubsection{Preprocesamiento}

\subsubsection{Red neuronal}

\subsubsection{Entrenamiento}

\subsubsection{Generación}

\subsubsection{Analizador}

\section{Resultados}