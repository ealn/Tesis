%IMD PNA http://na.support.keysight.com/pna/help/latest/Applications/Swept_IMD_Configure_External_Source_and_Combiner.htm
\chapter{Marco Teórico}



%%-----------------------------------------------------------------------

\section{Bases teóricas}

\subsection{Inteligencia Artificial}

En computación el término Inteligencia Artificial se define como la facultad de razonamiento de un programa informático, este agente racional tiene la capacidad de percibir su entorno y lleva a cabo acciones para maximizar el éxito en una tarea asignada.

Cuando una maquina es capaz de imitar las funciones cognitivas del ser humano para aprender y resolver problemas se puede decir que la maquina posee inteligencia artificial.

Dentro de la inteligencia artificial tenemos varias ramas que se enfocan en la resolución de problemas aplicando un principio muy específico de la inteligencia.

Las ramas de la inteligencia artificial se pueden dividir en áreas clásicas y áreas de vanguardia de acuerdo con la época cuando surgieron:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{ramas_ia.png}}
	\caption{Ramas de la inteligencia artificial}
	\label{fig:ramas_ia}
\end{figure}

\textbf{Sistemas expertos.-}
son conocidos también como sistemas de conocimientos y estos programas informáticos aplican el proceso de razonamiento de un humano experto en la materia en la solución de problemas específicos. El modo de procesamiento de estos sistemas es en base a una gran base de datos y utilizando una heurística avanzada para la determinación de las posibles soluciones a un problema.

\textbf{Procesamiento del lenguaje natural.-}
estos son sistemas capaces de reconocer, procesar y en cierto punto emular la comunicación humana, estos sistemas buscan dejar el uso de lenguajes de programación o conjunto de comandos, para procesar el lenguaje humano natural. Para procesar el lenguaje es necesario dividirlo, primero se obtiene la compresión del lenguaje natural, el cual investiga los métodos para que una computadora sea capaz de entender las instrucciones de este lenguaje, la segunda etapa consiste en la generación de lenguaje natural, aquí es donde la maquina intenta comunicarse en el lenguaje humano.

\textbf{Robótica.-}
un robot es un dispositivo programado para realizar una tarea en específico. Se dice que un robot está adquiriendo inteligencia artificial si es capaz de responder a cambios en su entorno en lugar de seguir instrucciones programadas con anterioridad.

\textbf{Reconocimiento de patrones.-}
esta es la parte de la inteligencia artificial encargada del procesamiento visual de un entorno, las imágenes son captadas por cámaras y posteriormente procesadas para el reconocimiento de patrones del entorno.

\textbf{Lógica difusa.-}
es una forma matemática de representar el lenguaje natural, y el principio es generalizar la lógica clásica haciendo que las variables tomen valores lingüísticos de verdad.

\textbf{Redes neuronales.-}
estas redes tratan de emular el comportamiento de las redes neuronales biológicas que poseen los humanos en su cerebro, partiendo de una neurona artificial y conectándola con otras para crear sinapsis entre ellas. 

\textbf{Algoritmos genéticos.-}
estos algoritmos son capaces de mutar para producir mejores respuestas a un entorno, estos sistemas tratan de imitar el proceso de selección natural en el cual al ir mutando algunos genes se van obteniendo sistemas más capaces para un entorno. Su función es seleccionar de una población de soluciones candidatas e intentar producir nuevas generaciones de soluciones las cuales se buscan que sean mejores que las anteriores.

\textbf{Realidad virtual.-}
es la recreación de un mundo artificial en tiempo real que puede ser captado por distintos canales sensoriales del espectador.
Agentes.- estos son pequeños programas que actúan como espías observando las acciones comúnmente realizadas por el usuario, estas acciones son almacenadas y registradas, si en dado caso se llega a dar una anomalía el programa lanzara una alerta y dará una serie de soluciones.

\subsection{Redes neuronales artificiales}

Las redes neuronales artificiales son un conjunto de neuronas creadas artificialmente para el desarrollo de inteligencia artificial en una computadora.
 
Estas redes están basadas en las redes biológicas del cerebro humano, modelando todos los factores biológicos de las neuronas.

\begin{figure}[htbp]
	\centerline{\includegraphics[width=7cm]{red_bio.png}}
	\caption{Red neuronal biológica}
	\label{fig:red_bio}
\end{figure}

Debido a su diseño las redes son capaces de aprender de la experiencia, de generalizar de casos anteriores a nuevos casos, de abstraer características esenciales a partir de entradas que representan en ocasiones información irreverente.

La capacidad de aprendizaje adaptativo es una característica fundamental de las redes neuronales y les permiten llevar a cabo ciertas tareas mediante un entrenamiento previo, pueden aprender a diferenciar patrones y generalizar a partir de estos. Son considerados sistemas dinámicos ya que son capaces de adaptarse a nuevas condiciones de entrada.

Tienen una alta tolerancia a fallos ya que son capaces de detectar patrones aun cuando estos patrones posean ruido, distorsión o simplemente están incompletos. Estos programas son capaces de seguir funcionando incluso si parte de la red presente fallas.

La información se almacena de forma distribuida en las conexiones de las neuronas, provocando redundancia de información, es decir se guardara sus valores en base a la función de activación que posee cada neurona, de esta manera si una neurona es destruida o presenta fallas, las otras neuronas podrán aprender la información de la neurona que fallo.

Las neuronas humanas poseen diferentes secciones:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{estruc_neu.png}}
	\caption{Estructura general de una neurona}
	\label{fig:estruc_neu}
\end{figure}

En una neurona artificial se busca la emulación de las principales secciones de una neurona las cuales son:

\begin{itemize}
	\item \textbf{Cuerpo.-} Se encarga de producir un impulso eléctrico en base a las entradas de la neurona.
	\item \textbf{Dendritas.-} son filamentos capaces de crear conexiones con otras neuronas.
	\item \textbf{Axón.-} Es el encargado de transmitir el impulso eléctrico generado por el cuerpo.
\end{itemize}

A continuación se muestra una imagen de como luciría una neurona artificial:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{neu_art.png}}
	\caption{Neurona Artificial}
	\label{fig:neu_art}
\end{figure}

Esta neurona posee las siguientes secciones:

\begin{itemize}
	\item \textbf{X1, X2, \ldots,Xn .-} Son las entradas de la neurona.
	\item \textbf{W1, W2, \ldots, Wn.-} Pesos específicos que tendrá cada entrada, esto hace que las entradas no valgan lo mismo ponderadamente.
	\item \textbf{Función de red.-} Esta es una función de sumatoria de las entradas.
	\item \textbf{Función de activación.-} Si la suma de las entradas es mayor o igual que el umbral definido por esta función se tendrá una señal a la salida.
\end{itemize}

La salida de la neurona viene dada por esta ecuación:

\begin{equation}
y_j = f(\sum_{i=1}^{n}(W_{ij}x_i + \theta_j))
\label{ec:neu_out}
\end{equation}

Una red neuronal no es más que la interconexión de varias neuronas artificiales, en la cual podemos identificar al menos tres secciones:

\begin{itemize}
	\item \textbf{Capa de entrada.-} En esta capa se procesan todas las entradas, y si estas entradas son capaces de excitar las neuronas de esta capa se producirá una señal de salida.
	\item \textbf{Capa oculta.-} En esta capa se encuentran las neuronas encargadas del aprendizaje de la red.
	\item \textbf{Capa de salida.-} Esta neurona o neuronas de salida tendrán la salida del sistema.
\end{itemize}

La forma en que las redes aprenden es mediante la modificación de los pesos de las entradas.

Las redes neuronales artificiales han ido evolucionando con el paso del tiempo, hoy en día existen muchos modelos de redes neuronales, todas ellas con ventajas y desventajas si son comparadas entre ellas.

\subsubsection{Aprendizaje de las redes neuronales}

%Rf
El procedimiento utilizado para llevar a cabo el proceso de aprendizaje en una red neuronal se denomina entrenamiento.

El problema de aprendizaje en las redes neuronales se formula en términos de la minimización de la función de error (o pérdida) asociada.

Normalmente, esta función está compuesta por dos términos, uno que evalúa cómo se ajusta la salida de la red neuronal al conjunto de datos de que disponemos, y que se denomina término de error, y otro que se denomina término de regularización, y que se utiliza para evitar el sobreaprendizaje por medio del control de la complejidad efectiva de la red neuronal.

Por supuesto, el valor de la función de error depende por completo de los parámetros de la red neuronal: los pesos sinápticos entre neuronas, y los bias asociados a ellas, que, como suele ser ya habitual, se pueden agrupar adecuadamente en un único vector de peso de la dimensión adecuada, que denotaremos por $w$. En este sentido, podemos escribir $f(w)$ para indicar que el valor del error que comete la red neuronal depende de los pesos asociados a la misma. Con esta formalización, nuestro objetivo es encontrar el valor $w^{*}$ para el que se obtiene un mínimo global de la función $f$, convirtiendo el problema de aprendizaje en un problema de optimización.

En general, la función de error es una función no lineal, por lo que no disponemos de algoritmos sencillos y exactos para encontrar sus mínimos. En consecuencia, tendremos que hacer uso de una búsqueda a través del espacio de parámetros que, idealmente, se aproxime de forma iterada a a un (error) mínimo de la red para los parámetros adecuados.

De esta forma, se comienza con una red neuronal con algún vector inicial de parámetros (a menudo elegido al azar), a continuación se genera un nuevo vector de parámetros, esperando que con ellos la función de error se reduzca (aunque dependiendo del método elegido, no es obligatorio, y temporalmente se puede admitir un empeoramiento del error siempre y cuando conduzca a una disminución posterior más acusada). Este proceso se repite, normalmente, hasta haber reducido el error bajo un umbral tolerable, o cuando se satisfaga una condición específica de parada.

El Descenso del Gradiente es el algoritmo de entrenamiento más simple y también el más extendido y conocido. Solo hace uso del vector gradiente, y por ello se dice que es un método de primer orden.

Este método para construir el punto $w_{i+1}$ a partir de wi se traslada este punto en la dirección de entrenamiento $d_i=-g_i$. Es decir:

\begin{equation}
w_{i+1} = w_{i} - g_{i}v_{i}
\label{ec:grad}
\end{equation}

Donde el parámetro ? se denomina tasa de entrenamiento, que puede fijarse a priori o calcularse mediante un proceso de optimización unidimensional a lo largo de la dirección de entrenamiento para cada uno de los pasos (aunque esta última opción es preferible, a menudo se usa un valor fijo, $?_{i}=?$ con el fin de simplificar el proceso).

Aunque es muy sencillo, este algoritmo tiene el gran inconveniente de que, para funciones de error con estructuras con valles largos y estrechos, requiere muchas iteraciones. Se debe a que, aunque la dirección elegida es en la que la función de error disminuye más rápidamente, esto no significa que necesariamente produzca la convergencia más rápida.

Por ello, es el algoritmo recomendado cuando tenemos redes neuronales muy grandes, con muchos miles de parámetros, ya que sólo almacena el vector gradiente (de tamaño n).
%http://www.cs.us.es/~fsancho/?e=165
%Rf

\subsection{Deep Learning}

Deep Learning usa redes neuronales con muchas capas para lograr aprendizajes más complejos. Este comportamiento asemeja la forma en que el cerebro humano toma decisiones, el cual usa la interconexión de varias capas de neuronas para realizar actividades complejas.
Dentro de las redes de Deep Learning se tienen 2 tipos muy usados en la actualidad:

\begin{itemize}
	\item \textbf{Redes convolucionales (CNN).-} Este tipo de redes usa la convolución en varias de sus capaz para lograr el procesamiento de parámetros que se pueden representar en un espacio $R^2$, un ejemplo claro de esto son las imágenes y vídeos, por lo tanto si se quiere hacer una clasificación o reconocimiento de imágenes, este tipo de redes nos proporcionan una buena herramienta de procesamiento.
	\item \textbf{Redes recurrentes (RNN).-} Este tipo de redes son muy usadas cuando se busca analizar una secuencia de datos, estas redes poseen memoria y una retroalimentación de la salida a la entrada.  
\end{itemize}

\subsection{Redes neuronales recurrentes}

%Rf
La idea detrás de las RNN es hacer uso de la información secuencial. En una red neuronal tradicional suponemos que todas las entradas (y salidas) son independientes entre sí. Pero para muchas tareas eso es una muy mala idea. Si quieres predecir la siguiente palabra en una oración, es mejor que conozcas qué palabras vienen antes. Las RNN se llaman recurrentes porque realizan la misma tarea para cada elemento de una secuencia, y la salida depende de los cálculos previos. Otra forma de pensar acerca de las RNN es que tienen una "memoria" que captura información sobre lo que se ha calculado hasta ahora. En teoría, los RNN pueden hacer uso de la información en secuencias arbitrariamente largas, pero en la práctica se limitan a mirar hacia atrás solo unos pocos pasos.

La decisión de una red recurrente alcanzada en el paso de tiempo t-1 afecta la decisión que alcanzará un momento más tarde en el paso de tiempo t. Entonces, las redes recurrentes tienen dos fuentes de entrada, el presente y el pasado reciente, que se combinan para determinar cómo responden a los datos nuevos, de forma similar a como lo hacemos en la vida.

Esa información secuencial se conserva en el estado oculto de la red recurrente, que logra abarcar muchos pasos de tiempo a medida que avanza para afectar el procesamiento de cada nuevo ejemplo. Está encontrando correlaciones entre eventos separados por muchos momentos, y estas correlaciones se llaman "dependencias a largo plazo", porque un evento en el tiempo depende de, y es una función de, uno o más eventos que vinieron antes. Una forma de pensar acerca de las RNN es esta: son una forma de compartir pesos a lo largo del tiempo.

Así como la memoria humana circula invisiblemente dentro de un cuerpo, afectando nuestro comportamiento sin revelar su forma completa, la información circula en los estados ocultos de las redes recurrentes.

Describiremos el proceso de llevar la memoria hacia adelante matemáticamente:

\begin{equation}
h_t = \phi(Wx_t + Uh_{t-1})
\label{ec:mem_neu}
\end{equation}

El estado oculto en el paso de tiempo $t$ es $h_t$. Es una función de la entrada al mismo tiempo paso $x_t$, modificada por una matriz de ponderación W (como la que usamos para las redes feedforward) agregada al estado oculto del paso de tiempo anterior $h_{t-1}$ multiplicado por su propio estado oculto matriz U de estado oculto, también conocida como matriz de transición y similar a una cadena de Markov. Las matrices de peso son filtros que determinan la importancia de acuerdo tanto con la entrada actual como con el estado oculto pasado. El error que generan volverá a través de la propagación inversa y se usará para ajustar sus ponderaciones hasta que el error no pueda bajar más.

Debido a que este ciclo de retroalimentación ocurre en cada paso de la serie, cada estado oculto contiene rastros no solo del estado oculto anterior, sino también de todos los que precedieron a $h_{t-1}$ mientras la memoria pueda persistir.

\subsubsection{LSTM}

A mediados de los años 90, los investigadores alemanes Sepp Hochreiter y Juergen Schmidhuber propusieron una variación de la red recurrente con las denominadas unidades de memoria a largo plazo, o LSTM, como una solución al problema del gradiente de fuga.

Los LSTM ayudan a preservar el error que se puede volver a propagar a través del tiempo y las capas. Al mantener un error más constante, permiten que las redes recurrentes continúen aprendiendo durante muchos pasos de tiempo (más de 1000), abriendo así un canal para vincular causas y efectos de forma remota. Este es uno de los desafíos centrales para el aprendizaje automático y la IA, ya que los algoritmos se enfrentan con frecuencia a entornos en los que las señales de recompensa son dispersas y diferidas, como la vida misma.

Los LSTM contienen información fuera del flujo normal de la red recurrente en una celda cerrada. La información puede almacenarse, escribirse o leerse desde una celda, al igual que los datos en la memoria de una computadora. La célula toma decisiones sobre qué almacenar y cuándo permitir las lecturas, escrituras y borraduras, a través de puertas que se abren y cierran. Sin embargo, a diferencia del almacenamiento digital en computadoras, estas puertas son análogas, implementadas con la multiplicación de elementos por sigmoides, que están todas en el rango de 0-1. Siendo Analogica tiene la ventaja sobre digital de ser diferenciable y, por lo tanto, adecuado para la propagación inversa.

Esas puertas actúan sobre las señales que reciben, y de forma similar a los nodos de la red neuronal, bloquean o transmiten información en función de su fuerza e importación, que filtran con sus propios conjuntos de ponderaciones. Esos pesos, como los pesos que modulan los estados de entrada y ocultos, se ajustan a través del proceso de aprendizaje de redes recurrentes. Es decir, las células aprenden cuándo permiten que los datos entren, salgan o se eliminen a través del proceso iterativo de hacer conjeturas, volver a propagar el error y ajustar los pesos mediante el descenso del gradiente.
% https://skymind.ai/wiki/lstm
%Rf

\subsection{Composición musical}

La composición musical esta catalogado como un arte que tiene como objeto crear nuevas piezas musicales.

Un músico puede optar por varios caminos para la creación de su obra, existen músicos que se basan en su simple sentido común y crean canciones liricamente, sin embargo el proceso formal de composición involucra todos los conceptos musicales básicos de la teoría musical.

\subsection{Teoría musical}

La teoría musical es el estudio de los elementos que conforman la música. En esta teoría se analizan todos los sonidos involucrados para la creación, análisis y composición musical.

La música es un arte que se basa en 2 elementos: 

\begin{itemize}
	\item Los sonidos
	\item Los silencios
\end{itemize}

Los sonidos tienen diferentes propiedades las cuales se describen a continuación:

\begin{itemize}
	\item \textbf{Altura.-} un sonido puede ser agudo, medio o grave, dependiendo de la altura de su nota.
	\item \textbf{Duración.-} un sonido debe de tener una duración la cual se expresa en unidades de tiempo.
	\item \textbf{Intensidad.-} esto se refiere al volumen del sonido, puede ser débil o fuerte.
	\item \textbf{Timbre.-} se le conoce como timbre o color del sonido a como un sonido con la misma nota suena diferente dependiendo del instrumento usado para su interpretación.  
\end{itemize}

Los silencios a su vez su única propiedad intrínseca es la duración, es decir en un silencio lo único que se mide es la duración del mismo.

\subsection{Notas musicales}

Las notas es un sistema que se usa para la representación de los diferentes sonidos en la música. En el mundo occidental se usa un sistema de 12 notas, los cuales pueden ser repetidos con diferentes alturas para generar una gama muy amplia de sonidos.
Dentro de este sistema de 12 notas tenemos las notas naturales y las notas con alteraciones.
Las notas naturales son:

Do, Re, Mi, Fa, Sol, La, Si   (7 notas)

Las alteraciones no son más que agregar o quitar medios tonos a una nota, para eso se usan los siguientes símbolos:

\begin{itemize}
	\item \textbf{\# (sostenido).-} se agrega $1/2$ tono a una nota.
	\item \textbf{x (doble sostenido).-} Se agrega 1 tono a una nota.
	\item \textbf{$\flat$ (bemol).-} se disminuye $1/2$ tono a una nota.
	\item \textbf{$\flat\flat$ (doble bemol).-} Se disminuye 1 tono a una nota.  
\end{itemize}

Usando los símbolos anteriores podemos definir las siguientes notas con alteraciones:

Do\#, Re\#, Fa\#, Sol\#, La\#  (5 notas)

Como se puede observar tanto Mi y Si no tienen sonidos con alteraciones ascendentes, ya que los sonidos producidos por estas alteraciones son igual al de las notas consecutivas, a este tipo de sonidos iguales se les conoce como notas enarmónicas.

Por ejemplo:

\begin{itemize}
	\item Mi\# sonaría exactamente igual que un Fa.
	\item Si\# sonaría exactamente igual que un Do.  
\end{itemize}

También las notas con alteraciones pueden ser representadas usando el símbolo de bemol (b), es decir restando medio tono a una nota. En este caso se tendrían las notas con alteraciones de la siguiente manera:

Re$_\flat$, Mi$_\flat$, Sol$_\flat$, La$_\flat$, Si$_\flat$      (5 notas)

Como se mencionó anteriormente las notas que en sonido son exactamente iguales pero en nomenclatura son diferentes se conocen como notas enarmónicas, de tal manera que las 5 notas con alteraciones que se describieron se pueden hacer una comparación del sonido de las mismas, siendo así se tiene:

\begin{itemize}
	\item Do\#  suena exactamente igual que Re$_\flat$.
	\item Re\# suena exactamente igual que Mi$_\flat$. 
	\item Fa\# suena exactamente igual que Sol$_\flat$. 
	\item Sol\# suena exactamente igual que La$_\flat$. 
	\item La\# suena exactamente igual que Si$_\flat$.   
\end{itemize}

Podemos ver la relación de tonos y semitonos (1/2 tonos) en la siguiente figura:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{tonos.png}}
	\caption{Relacion de tonos y semitonos}
	\label{fig:tonos}
\end{figure}

Como se puede observar entre Mi y Fa existe un semitono, al igual que entre Si y Do.

El pentagrama es un sistema de cinco líneas y cuatro espacios para escribir música:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{pentagrama.png}}
	\caption{Pentagrama}
	\label{fig:pentagrama}
\end{figure}

Este sistema puede tener diferentes elementos dentro de los principales tenemos:

\begin{itemize}
	\item Clave.
	\item Compás.
	\item Armadura. 
	\item Notas.
\end{itemize}

\subsection{Claves musicales}

Las claves musicales se usan para darle nombre y altura a las notas musicales dentro de un pentagrama.

Las claves más usadas en la música son: la clave de Sol, la clave de Fa y la clave de Do.

La clave de Sol se usa en instrumentos agudos como la guitarra, violín, entre otros. Esta clave normalmente se escribe empezando en la segunda línea del pentagrama para formar una especie de G. El hecho de que esta clave se escriba en la segunda línea establece que esa línea será llamada como el nombre de la clave, en este caso Sol:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=4cm]{clave_sol.png}}
	\caption{Clave de Sol en 2da. Linea}
	\label{fig:clave_sol}
\end{figure}

La clave de Fa es usada en instrumentos más graves, tales como el contrabajo, el bajo, etc. Normalmente se escribe empezando en la cuarta línea, de tal manera que esta línea tomara el nombre de Fa:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=4cm]{clave_fa.png}}
	\caption{Clave de Fa en 4ta. Linea}
	\label{fig:clave_fa}
\end{figure}

La clave de Do es usada comúnmente para las voces, y esta clave se escribe en diferentes líneas dependiendo del timbre de la voz, para un tenor se usa la clave de Do en 4ta línea, mientras que para un soprano normalmente la clave se usa en 3ra o 2da línea:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{clave_do.png}}
	\caption{Clave de Do en 4ta. y 3ra. linea}
	\label{fig:clave_do}
\end{figure}

A partir de estas claves se le puede poner nombre a las diferentes líneas y espacios del pentagrama, por ejemplo en la clave de sol en segunda línea, el pentagrama quedaría de la siguiente forma:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{notas_clave_sol.png}}
	\caption{Nombre de las notas en un pentagrama con clave de Sol}
	\label{fig:notas_clave_sol}
\end{figure}

\subsection{Compases y tiempo}

El compás se puede definir como la unidad métrica de la música, es la que nos dice que tiempo llevara la canción.

Existen una infinidad de compases los cuales podemos clasificar en dos grandes grupos:

\begin{itemize}
	\item Compases regulares.
	\item Compases irregulares.
\end{itemize}

Los compases regulares están regidos por formas regulares las cuales dictan el tiempo, mientras que en los compases irregulares hay que determinar la base de tiempo de forma indirecta.

Cada nota puede tener un valor de tiempo y este valor estará determinado por el compás que se esté utilizando, por ejemplo en un compás de 4/4 las figuras musicales tendrán los siguientes valores:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{dura_notas.png}}
	\caption{Duración de las notas musicales}
	\label{fig:dura_notas}
\end{figure}

Como se puede observar para cada figura musical existe su silencio correspondiente, el cual tendrá el mismo valor solo que este caso no se producirá sonido alguno.

Podemos tener también los valores relativos de estas notas respecto a otras notas:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{valor_rel.png}}
	\caption{Valor relativo de las notas}
	\label{fig:valor_rel}
\end{figure}

De tal manera que en un compás tendremos dos datos los cuales se describen a continuación:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{compas.png}}
	\caption{Compas}
	\label{fig:valor_rel}
\end{figure}

Se puede ver que este compas tendrá 2 pulsos y el valor de cada pulso será de un tiempo de negra, ya que el valor relativo de la negra respecto a la redonda es de $1/4$.

Otro punto a considerar en los compases es que estos tienen tiempos fuertes, semifuertes y débiles. La cuadratura de una armonía usa estos tiempos para indicar los cambios que se deben de hacer.

Este es un ejemplo de los tiempos en compases de $4/4$, $3/4$ y $2/4$: 

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{tiempos_fd.png}}
	\caption{Tiempos fuertes y débiles}
	\label{fig:tiempos_fd}
\end{figure}

\subsection{Escalas}

Las escalas son una serie de notas musicales que siguen un orden establecido por intervalos desde una nota base. En el mundo de la música hay una infinidad de escalas pero todas parten de la escala mayor de Do:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{escala.png}}
	\caption{Escala de Do Mayor}
	\label{fig:escala}
\end{figure}

En la escala mayor se tiene los siguientes intervalos: tono, tono, semitono, tono, tono, tono, semitono, si esta fórmula la aplicamos con las otras notas musicales podremos construir todas las escalas mayores.

Por ejemplo la escala de sol mayor quedaría de la siguiente manera:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{escala_sol.png}}
	\caption{Escala de Sol Mayor}
	\label{fig:escala_sol}
\end{figure}

Para poder completar el tono completo de la fórmula de la escala mayor entre Mi y Fa se tuvo que poner una alteración en la nota de Fa.

La única escala mayor que no posee alteraciones es la escala mayor de Do, de ahí en más todas las demás escalas mayores tendrán al menos una alteración.

Las escalas menores parten de la escala mayor obteniendo su sexta nota y siguiendo las mismas notas de la escala mayor. Estas escalas menores se les conocen como menores relativas, ya que se basan en una escala mayor para su formación.

Por ejemplo la escala relativa de Do mayor seria La menor y esta escala posee exactamente las mismas notas que la escala mayor solamente que empieza desde la nota de La:

En este caso las notas son: La, Si, Do, Re, Mi, Fa, Sol, La.

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{escala_la_men.png}}
	\caption{Escala de La menor}
	\label{fig:escala_la_men}
\end{figure}

Esta relatividad puede ser usada con todas las escalas mayores para obtener sus relativas menores.

A pesar que las escalas mayores y menores poseen las mismas notas no deben ser nunca confundidas ya que el sonido final producido es muy diferente, mientras las escalas mayores se usan para canciones se puede decir hasta cierto punto alegres, las escalas menores normalmente acompañan melodías melancólicas, esto no es en todos los casos.

\subsection{Armaduras}

Todas las alteraciones de una escala se pueden juntar al inicio del pentagrama para dar lugar a lo que se conoce como armaduras.

Estas armaduras indicaran que todas las notas que poseen alteraciones las mantendrán a lo largo de toda la canción.

Debido a que las escalas mayores y sus relativas menores poseen las mismas alteraciones por lo tanto comparten también la misma armadura:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=6cm]{armadura_sost.png}}
	\caption{Armaduras relativas con sostenidos}
	\label{fig:armadura_sost}
\end{figure}

También podemos tener armaduras con bemoles:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=6cm]{armadura_bem.png}}
	\caption{Armaduras relativas con bemoles}
	\label{fig:armadura_bem}
\end{figure}

\subsection{Tonalidades}

La tonalidad de una canción se basa en la escala base de la canción y esta la podemos averiguar viendo la armadura que posee la canción, aunque como se vio anteriormente las escalas mayores y sus relativas poseen la misma armadura, así que antes de definir la tonalidad en base a la armadura también se debe de hacer un análisis de la interacción de las notas en la canción.

Dentro de las tonalidades tenemos tonalidades mayores y menores, por ejemplo si vemos un pentagrama el cual no posee alteraciones podríamos asumir que la canción esta en Do mayor o en La menor, el siguiente paso sería ver la interacción de las notas en la canción para determinar correctamente la tonalidad.

\subsection{Melodías y Armonías}

Una melodía es una sucesión de notas de forma ascendente o descendente que llevan cierta cordura. 

Las melodías suelen estar formadas por frases y generalmente se repiten a lo largo de una canción variando algunas notas intermedias. En este caso se trata de una sucesión de notas que no son tocadas al mismo tiempo sino que una nota es tocada después de la otra.

Las armonías son una conjunción de sonidos tocados al mismo tiempo, normalmente la sucesión de varios acordes armónicos está ligado directamente con la melodía de la canción.

La armonía ha cambiado considerablemente desde la época de la música barroca hasta la música moderna, anteriormente para generar sistemas armónicos se usaban varios instrumentos tocando una nota en específico y la conjunción de todos los sonidos daba como resultado la armonía, actualmente la armonía es creada a partir de acordes de instrumentos que puedan generar este tipo de condiciones.

Esta es una comparativa para diferenciar entre lo que sería una melodía y una armonía:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=8cm]{melo_armo.png}}
	\caption{Melodia y Armonia}
	\label{fig:melo_armo}
\end{figure}

\subsection{Formato MIDI}

%Rf
% Deep Learning Techniques for Music Generation - {A} Survey  <- Bibliografia

MIDI (Interfaz digital de instrumentos musicales) es un estándar técnico que describe un protocolo, una interfaz digital y conectores para la interoperabilidad entre varios instrumentos musicales electrónicos, software y dispositivos. MIDI transmite mensajes de eventos que especifican información de notas (como tono y velocidad), así como señales de control para parámetros (como volumen, vibrato y señales de reloj). Hay cinco tipos de mensajes y aquí solo consideramos el tipo de Canal de voz, que transmite datos de rendimiento en tiempo real a través de un solo canal. Dos mensajes importantes son:

\begin{itemize}
	\item \textbf{Note on.-} Indica que una nota debe ser reproducida. Contiene la información de estado (número de canal, especificado por un entero dentro de [0 15] y dos valores de datos: un número de nota MIDI (el tono de la nota, un entero dentro de [0 127]) y una velocidad (que indica cómo la nota es reproducida, un entero dentro de [0 127]). Un ejemplo es <Note on, 0, 60, 50> que interpreta como: "en el canal 1, comienza a reproducir un C medio con una velocidad de 50".
	\item \textbf{Note off.-} Indica que una nota termina. En esa situación, la velocidad indica qué tan rápido se libera la nota. Un ejemplo es <Note off, 0, 60, 20> que interpreta como: "en el canal 1, deja de reproducir un C medio con una velocidad de 20". 
\end{itemize}

Cada evento de nota está realmente incrustado en un fragmento de pista, una estructura de datos que contiene un valor de tiempo delta que especifica la información de temporización y el evento en sí. Un valor de tiempo delta representa la posición de tiempo, como un valor absoluto, del evento y podría representar:

\begin{itemize}
	\item \textbf{Metrical time.-} Representa el numero de pulsos desde el comienzo. Una referencia llamada división y es definida en el encabezado del archivo, especificando cuantos pulsos por nota de cuarto.
	\item \textbf{time-code-based time.-} Representa el tiempo relacionado con horas, minutos y segundos de la canción. 
\end{itemize}

Un ejemplo de un extracto de un archivo MIDI y su partitura correspondiente es mostrado en las siguientes figuras. La división ah sido puesta en 384 pulsos por cuarto de nota lo cual corresponde a 96 pulsos por un octavo de nota:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=6cm]{extract_midi.png}}
	\caption{Extracto de un formato MIDI}
	\label{fig:extract_midi}
\end{figure}

\begin{figure}[htbp]
	\centerline{\includegraphics[width=6cm]{repres_midi.png}}
	\caption{Partitura correspondiente al extracto MIDI}
	\label{fig:repres_midi}
\end{figure}

%Rf

Dentro del formato MIDI se pueden representar en cada track un instrumento diferente eh independiente de los demás, esto permite una fácil manipulacion de los diferentes instrumentos. A continuacion se muestra una tabla de todos los instrumentos que pueden ser representados en este formato:

\begin{figure}[htbp]
	\centerline{\includegraphics[width=12cm]{instr_midi.png}}
	\caption{Instrumentos en formato MIDI}
	\label{fig:instr_midi}
\end{figure}